<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
<t t-inherit="mrp.BomOverviewTable"
   t-inherit-mode="extension"
   t-name="cr_mrp_bom_evr_customisation.BomOverviewAddBranchColumn">

            <xpath expr="//h6[@t-if='data.bom_code']" position="after">
                <div style="display: none !important;">
                    <h2>
                        Is EVR:
                        <i t-if="data.is_evr" class="fa fa-check-square text-success"/>
                        <i t-if="!data.is_evr" class="fa fa-square-o text-muted"/>
                    </h2>
                </div>
            </xpath>

            <xpath expr="//th[@name='th_mrp_bom_h']" position="before">
                <th class="text-center" title="Image">Img</th>
                <th t-if="showDefaultCode" class="text-center" title="Internal Reference">Internal Ref</th>
                <th t-if="showOldEverestPn" class="text-center" title="Old Everest Part Number">Old Everest PN</th>
                <th t-if="data.is_evr and showMoInternalRef" class="text-center" title="Mo Internal Ref">MO ref</th>
            </xpath>

            <xpath expr="//th[@name='th_mrp_bom_h']" position="after">
                <th t-if="data.is_evr and showApproveToManufacture" class="text-center">Approve to Manufacture</th>
            </xpath>

             <xpath expr="//th[@t-if='showAvailabilities'][1]" position="before">
                 <th t-if="data.is_evr and showCfeQuantity" class="text-center cfe" title="Customer Furnished Equipment">CFE Quantity</th>
                 <th t-if="data.is_evr" class="text-center" title="Branch">Branch</th>
                 <th t-if="data.is_evr and showApproval1" class="text-center approval1">Approval 1</th>
                 <th t-if="data.is_evr and showApproval2" class="text-center approval2">Approval 2</th>
                 <th t-if="data.is_evr and showCustomerRef" class="text-center">Customer Ref</th>
                 <th t-if="data.is_evr and showPoLineId" class="text-center">Related PO Line</th>

                 <t t-if="data.is_evr and showPurchaseGroup">
                     <th class="text-center">To Order</th>
                     <th class="text-center">To Order CFE</th>
                     <th class="text-center">Ordered</th>
                     <th class="text-center">Ordered CFE</th>
                     <th class="text-center">To Transfer</th>
                     <th class="text-center">To Transfer CFE</th>
                     <th class="text-center">Transferred</th>
                     <th class="text-center">Transferred CFE</th>
                     <th name='th_used' class="text-center">Used</th>
                 </t>

                <th t-if="data.is_evr and showFreeToUse" class="text-center">Free to Use</th>
            </xpath>


            <!-- Replace existing cost headers with Display Cost option -->
            <xpath expr="//th[@t-if='showCosts'][1]" position="replace">
                    <th t-if="showDisplayCost" class="text-end"
                        title="This is the cost based on the BoM of the product. It is computed by summing the costs of the components and operations needed to build the product.">BoM Cost</th>
             </xpath>

            <xpath expr="//th[@t-if='showCosts'][1]" position="replace">
                    <th t-if="showDisplayCost" class="text-end"
                        title="This is the cost defined on the product.">Product Cost</th>
            </xpath>

            <!-- Update tfoot for Display Cost -->
            <xpath expr="//tfoot[@t-if='showCosts']" position="attributes">
                    <attribute name="t-if">showDisplayCost</attribute>
            </xpath>

</t>
</templates>

